(this["webpackJsonpplanning-poker"]=this["webpackJsonpplanning-poker"]||[]).push([[4],{198:function(e,t,s){"use strict";s.r(t);var a=s(14),n=s(1),c=s.n(n),r=s(102),i=s(35),o=s(19);var l=s(2),d={scales:{yAxes:[{ticks:{beginAtZero:!0,display:!1}}]},maintainAspectRatio:!1};function b(e){var t=e.sessionName;o.a.log("Analytic render()");var s=Object(n.useState)([]),c=Object(a.a)(s,2),b=c[0],j=c[1];if(Object(n.useEffect)((function(){fetch("https://doe6dshub3.execute-api.us-east-1.amazonaws.com/planning-poker?sessionName="+t).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return e.sd=Object(i.c)(e.points),e}));j(t)}))}),[t]),0===b.length)return Object(l.jsx)("div",{className:"text-center",children:"No data. This is powered by a Lambda function which has a delay due to cold start."});var h,m,u,p={last20Votes:Object(i.b)(b.slice(0,20),"sd"),last50Votes:Object(i.b)(b.slice(0,50),"sd"),last100Votes:Object(i.b)(b.slice(0,100),"sd")},x=(h=b.slice(0,20).reverse(),m={key:"time",transformer:function(e){return e.substr(5,5)}},u={key:"sd"},{labels:h.map((function(e){return"function"===typeof m.transformer?m.transformer(e[m.key]):e[m.key]})),datasets:[{label:"Standard Deviation",data:h.map((function(e){return"function"===typeof u.transformer?u.transformer(e[u.key]):e[u.key]})),fill:!1,backgroundColor:"rgba(255, 99, 132, 0.8)",borderColor:"rgba(255, 99, 132, 0.2)"}]}),O=b.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:new Date(e.time).toLocaleString()}),Object(l.jsx)("td",{children:e.points.join(" , ")}),Object(l.jsx)("td",{children:e.sd})]},e.time)}));return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"text-center mb-3",children:[Object(l.jsx)("div",{children:"Average Standard Deviation: reflects the team's disagreement - the lower, the better"}),Object(l.jsxs)("div",{children:["Last 20 Votes",Object(l.jsx)("span",{className:"badge bg-".concat(p.last20Votes>p.last50Votes?"danger":"success"," rounded-pill mx-2"),children:p.last20Votes}),"Last 50 Votes",Object(l.jsx)("span",{className:"badge bg-secondary rounded-pill mx-2",children:p.last50Votes}),"Last 100 Votes",Object(l.jsx)("span",{className:"badge bg-secondary rounded-pill mx-2",children:p.last100Votes})]})]}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)(r.Line,{data:x,options:d,height:150})}),Object(l.jsxs)("table",{className:"table table-dark table-striped text-center",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{className:"text-light",children:[Object(l.jsx)("th",{scope:"col",children:"Date & Time"}),Object(l.jsxs)("th",{scope:"col",children:["Votes @",t]}),Object(l.jsx)("th",{scope:"col",children:"Standard Deviation"})]})}),Object(l.jsx)("tbody",{children:O})]})]})}t.default=c.a.memo(b)}}]);
//# sourceMappingURL=4.b74c1927.chunk.js.map